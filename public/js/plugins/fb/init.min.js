(function(e,t){const o={apiKey:"AIzaSyAbeR-bTb7kCGRouTHhnhT5k9OKyw6I2Mg",authDomain:"pgstpm.firebaseapp.com",databaseURL:"https://pgstpm-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"pgstpm",storageBucket:"pgstpm.appspot.com",messagingSenderId:"1077948418495",appId:"1:1077948418495:web:64dcddd3bbe32abd6a790a"};firebase.initializeApp(o);const i=new firebaseui.auth.AuthUI(firebase.auth()),a=document.querySelector("[data-button-logout]"),n={callbacks:{signInSuccessWithAuthResult:function(e,t){const o=e.user;return postData(location.origin+"/api/users",{id:o.uid,uid:o.uid,email:o.email,name:o.displayName,emailVerified:o.emailVerified,photoURL:o.photoURL,createdAt:o.metadata.createdAt,lastLoginAt:o.metadata.lastLoginAt}),!0},uiShown:function(){a.style.display="none",document.getElementById("loader").style.display="none"}},signInFlow:"popup",signInSuccessUrl:"/",signInOptions:[firebase.auth.GoogleAuthProvider.PROVIDER_ID],tosUrl:"/",privacyPolicyUrl:"/"};firebase.auth().onAuthStateChanged(e=>{if(e){a.style.display="block",document.getElementById("loader").style.display="none";const e=[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i],t=e.some(e=>{if(navigator.userAgent.match(e))return console.log(navigator.userAgent.match(e)),navigator.userAgent.match(e)});console.log(t)}else console.log("User is signed out"),document.getElementById("loader").style.display="none",a.style.display="none",i.start("#firebaseui-auth-container",n)}),a.addEventListener("click",e=>{e.preventDefault(),firebase.auth().signOut().then(()=>{location.reload()}).catch(e=>{console.log(e)})}),"serviceWorker"in navigator&&navigator.serviceWorker.register("./firebase-messaging-sw.js").then(e=>{console.log("Service Worker registered:",e)}).catch(e=>{console.log("Service Worker registration failed:",e)});const s=firebase.messaging();s.getToken({vapidKey:"BBGHmrBzY-sZlMnyImcgV5JkjB-I7cTtJv6p22OR-PAYUUmEKzNjJtaTFePUAGVGq4THh5ngKu1eSKx8gBZOBJY"}).then(e=>{e?console.log("FCM Token:",e):console.log("No registration token available.")}).catch(e=>{console.log("An error occurred while retrieving token:",e)}),s.onMessage(e=>{console.log("Received message:",e);const t=e.notification.title,o={body:e.notification.body,icon:e.notification.icon};new Notification(t,o)}),"object"==typeof exports&&"object"==typeof module?module.exports=postData():"function"==typeof define&&define.amd?define("pgs",[],t):"object"==typeof exports?exports.pgs=t():e.pgs=t()})(this,()=>(class{constructor(e){this.table=e}init(){console.log(`This is ${this.table}`)}}));